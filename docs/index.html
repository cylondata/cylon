<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Cylon Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Cylon Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-173169112-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/konpa/devicon@master/devicon.min.css">
<script src="https://static.medium.com/embed.js"></script><title data-react-helmet="true">Compiling Cylon | Cylon</title><meta data-react-helmet="true" property="og:url" content="https://cylondata.org/docs/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Compiling Cylon | Cylon"><meta data-react-helmet="true" name="description" content="Cylon has C++ core, Java and Python bindings. You can compile these in three steps."><meta data-react-helmet="true" property="og:description" content="Cylon has C++ core, Java and Python bindings. You can compile these in three steps."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cylondata.org/docs/"><link data-react-helmet="true" rel="alternate" href="https://cylondata.org/docs/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://cylondata.org/docs/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9c27ea48.css">
<link rel="preload" href="/assets/js/styles.cd95bfbb.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.847f1b92.js" as="script">
<link rel="preload" href="/assets/js/main.221011fb.js" as="script">
<link rel="preload" href="/assets/js/1.d803b38b.js" as="script">
<link rel="preload" href="/assets/js/2.1edfdd81.js" as="script">
<link rel="preload" href="/assets/js/27.08810fe3.js" as="script">
<link rel="preload" href="/assets/js/28.bf39dae4.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.52712605.js" as="script">
<link rel="preload" href="/assets/js/17896441.50645f7c.js" as="script">
<link rel="preload" href="/assets/js/acaacde6.88c93bc3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Cylon" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Cylon" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cylondata/cylon" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Cylon" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Cylon" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/cylondata/cylon" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Setting Up</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/">Compiling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conda">Conda</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/arch">Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/quick_start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cpp">C++</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python">PyCylon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/java">JCylon</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Running Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/mpi">Run with MPI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Publications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pub">Publications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/blogs">Blogs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a href="https://cylondata.org/pydocs/frame.html" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Python API docs</a></li><li class="menu__list-item"><a href="https://cylondata.org/javadocs/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Javadocs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Releases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release/0.4.1">Cylon Release 0.4.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release/0.4.0">Cylon Release 0.4.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release/0.3.1">Cylon Release 0.3.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release/0.3.0">Cylon Release 0.3.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release/0.2.0">Cylon Release 0.2.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release/0.1.0">Cylon Release 0.1.0</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Compiling Cylon</h1></header><div class="markdown"><p>Cylon has C++ core, Java and Python bindings. You can compile these in three steps.</p><p>Cylon can be build along with Arrow (Cylon will build Apache Arrow) or it can be build by pointing to an existing
Arrow installation. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><p>Here are the prerequisites for compiling Cylon.</p><ol><li>CMake 3.16.5</li><li>OpenMPI 4.0.1 or higher (You can use any other MPI version as well, we tested with OpenMPI)</li><li>Python 3.7 or higher</li><li>C++ 14 or higher</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="python-environment"></a>Python Environment<a class="hash-link" href="#python-environment" title="Direct link to heading">#</a></h3><p>We need to specify a Python environment to the build script. If you&#x27;re using a virtual environment,
make sure to set the virtual environment path. Or you can specify /usr as the path if you&#x27;re installing in the system path.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-a-virtual-environment"></a>Create a virtual environment<a class="hash-link" href="#create-a-virtual-environment" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd  $HOME/cylon</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python3 -m venv ENV</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">source ENV/bin/activate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here after we assume your Python ENV path is,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/ENV</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><div tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Note: User must install Pyarrow with the Cylon build to use Cylon APIs.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Do not use a prior installed pyarrow in your python environment.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uninstall it before running the setup.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="installing-required-libraries"></a>Installing Required Libraries<a class="hash-link" href="#installing-required-libraries" title="Direct link to heading">#</a></h3><p>Cylon uses MPI for distributed execution. So we need an MPI version installed in the system. There are many implementations
of MPI standard such as MPICH and OpenMPI. We have tested Cylon with OpenMPI and you should be able to use any other MPI implementation like
MPICH as well. </p><p>In this document we will explain how to install OpenMPI. You can use the following command to install OpenMPI on
an Ubuntu system. If you would like to build OpenMPI with custom options, please refer to their <a href="https://www.open-mpi.org/faq/?category=building" target="_blank" rel="noopener noreferrer">documentation</a> or you can
follow the quick tutorial at the end of the document to do so. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> libopenmpi-dev</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here are some of the other dependencies required. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> software-properties-common</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> add-apt-repository ppa:deadsnakes/ppa</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> update </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y --no-install-recommends --no-install-suggests libssl-dev </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vim</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> build-essential python3.7-dev python3.7 maven libnuma-dev libc-dev python3-venv openmpi-bin libopenmpi-dev python3-pip python3-dev</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>We need a later version of CMake. We can build cmake from source if the version in our system is less than 3.16.5.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -OL https://github.com/Kitware/CMake/releases/download/v3.20.1/cmake-3.20.1.tar.gz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> -xvf cmake-3.20.1.tar.gz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> cmake-3.20.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./bootstrap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="build-cylon--pycylon"></a>Build Cylon &amp; PyCylon<a class="hash-link" href="#build-cylon--pycylon" title="Direct link to heading">#</a></h2><p>Here we will walk you through building Cylon along with Apache Arrow.</p><p>We have provided a build script to make the build process easier. It is found in Cylon source root directory.
Please note that Cylon will build Apache Arrow (both <code>libarrow</code> and <code>pyarrow</code>) alongside Cylon.  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="build-c-apis"></a>Build C++ APIs<a class="hash-link" href="#build-c-apis" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to your environment</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -bpath </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to cmake build directory</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -ipath </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to binary </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> directory</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --cpp </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">--release </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> --debug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># make the cylon cpp library install directory</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon_install</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/ENV -bpath </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/build -ipath </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon_install --cpp --release</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><div tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Note: The default build mode is release </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now lets try to run an C++ example and see whether our compilation is successful.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># export the lib path</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">LD_LIBRARY_PATH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$LD_LIBRARY_PATH</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon_install/lib</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon_install</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># this will run the join example with randomly generated data</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./examples/join_example m o </span><span class="token number" style="color:rgb(247, 140, 108)">40000</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sort</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>It will generate an output like following. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.757613 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> join_example.cpp:57</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Sort </span><span class="token function" style="color:rgb(130, 170, 255)">join</span><span class="token plain"> algorithm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.763633 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> join_example.cpp:79</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Read tables </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">363</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ms</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.840909 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> partition_op.cpp:80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> Partition start: Wed Jul </span><span class="token number" style="color:rgb(247, 140, 108)">14</span><span class="token plain"> 01:49:30 </span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain"> time: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.843380 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> all_to_all_op.cpp:72</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Shuffle time: </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.851606 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> split_op.cpp:152</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Split time: </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> Fin time: </span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token plain"> Split time: </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> Call count: </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.852095 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> partition_op.cpp:80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> Partition start: Wed Jul </span><span class="token number" style="color:rgb(247, 140, 108)">14</span><span class="token plain"> 01:49:30 </span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain"> time: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.854277 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> all_to_all_op.cpp:72</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Shuffle time: </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.862313 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> split_op.cpp:152</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Split time: </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> Fin time: </span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token plain"> Split time: </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> Call count: </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.953450 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> join_kernel.cpp:57</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Done concatenating tables, rows </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">39712</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:30.976418 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> join_op.cpp:46</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Join </span><span class="token function" style="color:rgb(130, 170, 255)">time</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">110</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:31.037182 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> join_example.cpp:100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> First table had </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40000</span><span class="token plain"> and Second table had </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40000</span><span class="token plain">, Joined has </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">39712</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I0714 01:49:31.038038 </span><span class="token number" style="color:rgb(247, 140, 108)">867371</span><span class="token plain"> join_example.cpp:102</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Join </span><span class="token keyword" style="font-style:italic">done</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">272</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ms</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="build-python-apis"></a>Build Python APIs<a class="hash-link" href="#build-python-apis" title="Direct link to heading">#</a></h3><p>Cylon provides Python APIs with Cython. Cylon will build, Cylon CPP, Cylon Python, Arrow CPP and Arrow Python here. In this mode
it will install the Cylon and PyCylon libraries to the Python environment using pip. We only support pip through source builds.
If you want to use an existing Cylon binary you would need to use Conda packages. </p><p>You can use the following command to build the Python library.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to your environment</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -bpath </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to cmake build directory</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --python</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here is an example command.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/ENV -bpath </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/build -ipath </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon_install --python</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This command will install the PyCylon and PyArrow into the virtual environment we specified. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="updating-ld_library_path"></a>Updating <code>LD_LIBRARY_PATH</code><a class="hash-link" href="#updating-ld_library_path" title="Direct link to heading">#</a></h4><p>Before running the code in the base path of the cloned repo
run the following command. Or add this to your <code>bashrc</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">LD_LIBRARY_PATH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to cmake build dir</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/arrow/install/lib:</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to cmake build dir</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/lib:</span><span class="token variable" style="color:rgb(191, 199, 213)">$LD_LIBRARY_PATH</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here is an example command.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">LD_LIBRARY_PATH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/build/arrow/install/lib:</span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/build/lib:</span><span class="token variable" style="color:rgb(191, 199, 213)">$LD_LIBRARY_PATH</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>After this you can verify the build.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> ENV/bin/activate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here is an example PyCylon programs to check whether installation is working.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> pycylon </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> DataFrame</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> CylonEnv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> pycylon</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">net </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> MPIConfig</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">df1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DataFrame</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">df2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DataFrame</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">df3 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> df1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">merge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">right</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">df2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> on</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">df3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Congratulations you now have successfully installed PyCylon and Cylon.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="running-tests"></a>Running Tests<a class="hash-link" href="#running-tests" title="Direct link to heading">#</a></h3><p>You can run Cylon tests as follows. </p><p>For C++ tests </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to your environment</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -bpath </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to cmake build directory</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --cpp --test</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here is an example command.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/ENV -bpath </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/build --cpp --test</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For Python tests</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to your environment</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -bpath </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to cmake build directory</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --python --pytest</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here is an example command</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/ENV -bpath </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/build --python --test</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="building-cylon-with-an-existing-arrow-installation"></a>Building Cylon With An Existing Arrow Installation<a class="hash-link" href="#building-cylon-with-an-existing-arrow-installation" title="Direct link to heading">#</a></h2><p>If you already have an arrow installation and wants to use that for the build, you can do so by pointing the build to that.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="building-pycylon"></a>Building PyCylon<a class="hash-link" href="#building-pycylon" title="Direct link to heading">#</a></h3><p>Instead of building PyCylon and Apache Arrow together, you can use <a href="https://pypi.org/project/pyarrow/" target="_blank" rel="noopener noreferrer"><code>pyarrow</code> distribution from<code>pip</code></a> as follows.
This will build only the Cylon C++ and Python APIs. Here we will use the arrow libraries from the PyArrow installation.</p><p>First lets create a Python environment and install PyArrow in it. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">python3 -m venv ENV</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> ENV/bin/activate </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">pyarrow</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token number" style="color:rgb(247, 140, 108)">4.0</span><span class="token plain">.0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Then we can build Cylon pointing to this pyarrow with the following command.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to your env</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -bpath </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path to cmake build dir</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --python_with_pyarrow  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">--test </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> --pytest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here is an example command.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./build.sh -pyenv </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/ENV -bpath </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/cylon/build --python_with_pyarrow</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>After this you can run the above PyCylon examples to make sure it is working.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="building-openmpi-from-source"></a>Building OpenMPI From Source<a class="hash-link" href="#building-openmpi-from-source" title="Direct link to heading">#</a></h2><p>In this section we will explain how to build and install OpenMPI 4.0.1 from source. The instructions can be used to build a higher
version of OpenMPI as well.</p><ul><li><p>We recommend using <code>OpenMPI 4.0.1</code> or higher.</p></li><li><p>Download OpenMPI 4.0.1 from <a href="https://download.open-mpi.org/release/open-mpi/v4.0/openmpi-4.0.1.tar.gz" target="_blank" rel="noopener noreferrer">https://download.open-mpi.org/release/open-mpi/v4.0/openmpi-4.0.1.tar.gz</a></p></li><li><p>Extract the archive to a folder named <code>openmpi-4.0.1</code></p></li><li><p>Also create a directory named <code>build</code> in some location. We will use this to install OpenMPI</p></li><li><p>Set the following environment variables</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">BUILD=&lt;path-to-build-directory&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">OMPI_401=&lt;path-to-openmpi-4.0.1-directory&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PATH=$BUILD/bin:$PATH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LD_LIBRARY_PATH=$BUILD/lib:$LD_LIBRARY_PATH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">export BUILD OMPI_401 PATH LD_LIBRARY_PATH</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>The instructions to build OpenMPI depend on the platform. Therefore, we highly recommend looking into the <code>$OMPI_401/INSTALL</code> file. Platform specific build files are available in <code>$OMPI_401/contrib/platform</code> directory.</p></li><li><p>In general, please specify <code>--prefix=$BUILD</code> and <code>--enable-mpi-java</code> as arguments to <code>configure</code> script. If Infiniband is available (highly recommended) specify <code>--with-verbs=&lt;path-to-verbs-installation&gt;</code>. Usually, the path to verbs installation is <code>/usr</code>. In summary, the following commands will build OpenMPI for a Linux system.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd $OMPI_401</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./configure --prefix=$BUILD --enable-mpi-java</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">make -j 8;make install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/cylondata/cylon/edit/master/docs/docs/compile.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/conda"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cylon Conda </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a><ul><li><a href="#python-environment" class="table-of-contents__link">Python Environment</a></li><li><a href="#installing-required-libraries" class="table-of-contents__link">Installing Required Libraries</a></li></ul></li><li><a href="#build-cylon--pycylon" class="table-of-contents__link">Build Cylon &amp; PyCylon</a><ul><li><a href="#build-c-apis" class="table-of-contents__link">Build C++ APIs</a></li><li><a href="#build-python-apis" class="table-of-contents__link">Build Python APIs</a></li><li><a href="#running-tests" class="table-of-contents__link">Running Tests</a></li></ul></li><li><a href="#building-cylon-with-an-existing-arrow-installation" class="table-of-contents__link">Building Cylon With An Existing Arrow Installation</a><ul><li><a href="#building-pycylon" class="table-of-contents__link">Building PyCylon</a></li></ul></li><li><a href="#building-openmpi-from-source" class="table-of-contents__link">Building OpenMPI From Source</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:cylondata@googlegroups.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/cylondata/cylon" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/styles.cd95bfbb.js"></script>
<script src="/assets/js/runtime~main.847f1b92.js"></script>
<script src="/assets/js/main.221011fb.js"></script>
<script src="/assets/js/1.d803b38b.js"></script>
<script src="/assets/js/2.1edfdd81.js"></script>
<script src="/assets/js/27.08810fe3.js"></script>
<script src="/assets/js/28.bf39dae4.js"></script>
<script src="/assets/js/935f2afb.52712605.js"></script>
<script src="/assets/js/17896441.50645f7c.js"></script>
<script src="/assets/js/acaacde6.88c93bc3.js"></script>
</body>
</html>